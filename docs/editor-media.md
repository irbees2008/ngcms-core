# Кнопка [media] в редакторах

Кнопка [media] добавляет BB‑код `[media]` с параметрами ширины/высоты и опциональным превью.

- Доступность: кнопка активна только при включённом плагине `bb_media`. Если плагин отключён — показывается информирующее уведомление.
- Где доступна: редакторы Новостей, Комментариев, Статических страниц и Личных сообщений во всех скинах (Bootstrap 4/5 и legacy).

## Поля модалки (BS4/BS5)

- Адрес объекта (URL) — обязательное поле.
- Ширина, Высота — необязательные числовые поля (px).
- URL превью — необязательный URL изображения превью.

После нажатия «Вставить» в текст подставляется один из вариантов:

- `[media]URL[/media]`
- `[media width="640" height="360" preview="https://host/preview.jpg"]URL[/media]`

Legacy‑скин (old) использует prompt‑окна с теми же полями.

## Twig/язык

Все подписи и кнопки модалок вынесены в language‑файлы (`engine/lang/*/common.ini`):

- `tags.media`, `media.url`, `media.width`, `media.height`, `media.preview`, `btn_insert`, `btn_cancel` и уведомление `media.enable`.

## Трюки UX

- Если в тексте выделен URL — он подставится в поле «Адрес объекта».
- Вставка происходит в текущую позицию курсора без перезагрузки.
