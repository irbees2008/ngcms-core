=========================================================================================
* Полный список изменений в сборке "Next Generation CMS"
=========================================================================================
[0.9.3 Release]
+ Общая переработка админ-панели, перевод её на шаблонизатор TWIG
+ [TWIG] Добавлена поддержка нового TWIG based шаблона news.categories.tpl, данный шаблон (при его наличии) используется для генерации меню категорий
+ Добавлена возможность генерировать короткую новость из полной при вызове функции news_showlist(), в настройки данная возможность не выведена, её можно включить изменением кода
+ Добавлена настройка "настройки системы" => "безопасность" => "Вывод ошибочных SQL запросов", теперь вы можете выбрать тип пользователя (администратор/зарегистрированный пользователь/все посетители), которому будет отображаться текст SQL запроса, содержащего ошибки
% Теперь при транслитерации пробел заменяется на "-" (вместо "_")
+ Расширены возможсности generate_config_page (генерация страницы настроек для плагина)
+ В классе tpl (старый шаблонизатор) добавлена новая возможность - условные блоки, зависящие от текущего местоположения на сайте [ifhandler:Plugin:Handler], [ifhandler:Plugin:], [ifhandler:Plugin]
% Оптимизация библиотеки libsuggest, теперь она должна корректно работать во всех браузерах (проверял в FF, Opera, Chrome), также теперь при возникновении HTTP ошибки теперь в дополнение к HTTP коду выводится также URL запроса
% Обновление библиотеки libcompat (совместимость с не-ЧПУ режимом) - добавлена поддержка прямых ссылок на новость через переменную id, добавлена поддержка работы на поддоменах и исправлены ошибки
+ Расширение функционала статических страниц - добавилась поддержка "страницы для печати" и возможность задания собственной страницы для печати и замены основного шаблона main.tpl
+ Появилась возможность динамической подгрузки RPC функций
+ Добавлена возможность выставления rel="nofollow" и target="_blank" для всех ссылок, опция вынесена в конфигурацию системы
+ Библиотека jQuery добавлена в админ-панель движка
+ Переработан интерфейс управления категориями, добавлено поле "информация" для категорий, его содержимое можно отображать при открытии страницы категории на сайте.
% Обновление функции locatePluginTemplates() - добавлен новый параметр 'block'
+ Добавлена функция-заглушка checkPermission() для распределения (в будущем) прав доступа
+ Добавлена возможность добавлять иконки (прикладывать картинки) к категориям.
+ Добавлена поддержка нового файла шаблона - news.table.tpl (описание см. в документации)
+ Небольшой финт - если в списке новостей в фильтре пользователей набрать "!" (восклицательный знак, без кавычек), то будут выведены TOP20 пользователей с максимальным кол-вом новостей (сортировка по уменьшению кол-ва новостей).
+ Актуализированы скрипты NGCMS для корректной работы с PHP 5.3.3
+ В файл variables.ini шаблона вынесена возможность управления генерацией дерева категорий
% Добавлена эмуляция функции json_decode для PHP, собранного без данной функции
+ Добавлена глобальная переменная $DSlist - она определяет зарегистрированные в системе ID DataSource'ов и фиксирует их
+ Добавлена кука ngTrackID - кука может использоваться плагинами, которые не требуют регистрации (с одной стороны), но при этом требуют отслеживания действий пользователей (например, "корзина" и аналогичные плагины)
+ Обработчик URL'ов теперь пользуется параметрами из массами setVars, это позволяет, к примеру, вывести на главную страницу определённую новость/статик страницу, либо конкретную страницу любого другого плагина. Поддержка режима редактирования пока не реализована, есть только поддержка ядра.
+ Добавлен конфигурационный параметр "разрешить новости без текста"
+ В конфиге теперь можно задавать максимальный размер фотографии как по оси X так и по оси Y
% Фикс в функции fixdb_plugin_install(), теперь плагины должны корректно устанавливаться в случае, если у таблицы users другой (отличный от стандартного) префикс.
% Фикс со смайлами в опере
% Теперь пароль БД скрывается звёздочками (изменён тип поля с "text" на "password")
% Исправление ошибки - ошибка 404 для новостей находящихся в нескольких категориях и при использовании {catid} в URL'е новости. [!!] Для активации изменений необходимо зайти в "Настройки" => "Управление форматом ссылок" и нажать "Save" [!!]
+ Новые функции класса urlHandler:
  * removeHandler - удаляет конкретную строчку обработчика
  * removePluginHandlers - удаляет обработчики конкретного плагина (один или все), применим при удалении плагина
+ Расширение возможностей обработчика URL'ов.
  В глобальную переменную $CurrentHandler добавлен новый параметр 'handlerParams', это массив с элементами:
    * 'num' - номер строки обработчика ЧПУ
    * 'value' - значение строки обработчика ЧПУ (из rewrite.php)
% В шаблонизаторе TWIG добавлена функция localPath(), возвращающая каталог текущего шаблона, использовать localPath(0)
  Пример: {% extends localPath(0) ~ "site.body.tpl" %}
  Применяется для вставки шаблонов (include, extends) и позволяет брать вложенные шаблоны из того же каталога что и основной.
% Заменен обработчик фатальных ошибок старого шаблонизатора. Теперь будет значительно проще диагностировать проблемы при возникновении такой ошибки
% Для статических страниц (при их отображении) добавлена глобальная переменная $SYSTEM_FLAGS['static']['db.id'] с ID статической страницы
% Для полной новости добавлена глобальная переменная $SYSTEM_FLAGS['news']['db.categories'] со списком ID категорий, которым принадлежит новость

Обновлены плагины:
% xfields
  - появилась возможность при добавлении/редактировании новостей разносить доп. поля по отдельным группам
  - теперь в новостях можно отображать табличные данные из плагина, для этого в short/full news шаблонах появилась переменная {plugin_xfields_table}, за её отрисовку отвечает шаблон (пока - обязателен!) /templates/ВАШ_ШАБЛОН/plugins/xfields/table.tpl
% uprofile
  - появилась поддержка доп. полей (xfields) в профиле пользователя
  - доп. поля можно разбивать на отдельные группы
  - добавлен токен безопасности, защищающий от CSRF атак на профиль пользователя
% feedback
  - появилась возможность привязки новостей к форме
  - появилась возможность заполнения полей формы обратной связи из доп. полей (xfields) связанных новостей
  - плагин полностью переведён на TWIG, обратной совместимости по шаблонам нет (!!)
% commenrs
  - В шаблонах comments.internal.tpl и comments.external.tpl добавлена поддержка блоков [regonly]..[/regonly] и [nocomments]..[/nocomments]
% gsmg
  - Исправлена ошибка в показе постраничной навигации для категорий - теперь учитывается кол-во новостей на странице, указанное в категории
% bb_media
% finance
% cron
% nsched
% lastcomments
% tags
% ads_pro
% jchat
% voting
% switcher
% complain
% lastnews
% simiar
... и другие ...

[0.9.2 Release]
+ Добавлена возможность корректной работы NGCMS в подкаталогах
% Исправлены в работе с ЧПУ механизмом
% Изменена постраничная навигация в админ-панели
% Исправлены ошибки в структуре таблицы ipban (некорректно работала блокировка по IP)
% Исправлены опечатки в языковых файлах
% Обновление интерфейса управления плагинами
% Внесены изменения в раздел "управление пользователями" админ панели
% Внесены изменения в раздел "настройки системы"
% Внесены изменения в раздел "управление БД"
% Переработан раздел редактирования новостей
+ При добавлении/редактировании новостей добавлена возможность редактировать короткую и полную часть в отдельных блоках (textarea), функция активируется в "настройки системы"
+ В редактировании новостей добавлена возможность устанавливать текущую дату для новости
+ Добавлен suggest механизм для поля "автор" в разделе "редактирование новостей" (при поиске) - в появляющемся списке отображаются авторы у которых есть как минимум 1 новость
% Теперь в добавлении/редактировании новостей при вставке BB кода не будет "слетать" позиция внутри текстового блока
% Исправлена ошибка: не подтвечивалась активная категория
% Теперь корректно отрабатывают URL'ы с русским текстом в них (в кодировке Windows-1251)
% Из кода убрана функция eregi(), которая более не поддерживается в новых версиях php
% Исправлена небольшая XSS уязвимость
+ В управлении ЧПУ добавлена возможность временной блокировки (без удаления) строк
+ В редакторе BB-кодов добавлен тег [justify] ... [/justify]
+ В шаблон categories.tpl добавлена переменная {level}, которая отображает текущий уровень вложенности (0,1,2,...)
% исправленна ошибка из-за которой плагин не работал с украинскими названиями категорий и стат. страниц
+ В списке новостей в админ панели теперь указывается кол-во приложенных к новости файлов
+ При редактировании новости в списке приложенных файлов добавлена кнопка на добавление приложенного файла в текст новости
% В раздел "статистика" админ-панели добавлено отображение проблем в настройке PHP и способов их решения.
% В .htaccess убраны PHP флаги. Теперь при неверной установке флагов пользователю самому предлагается их корректно установить. Это решает проблему с хостингами, на которых PHP работает в CGI режиме
% В core.php добавлен код, который отключает (деструктивный) режим magic_quotes_runtime в случае, если его кто-то [очень глупый] зачем-то включил
+ В функции fixdb_plugin_install() добавлена возможность указывать engine для таблицы (параметр 'engine' у таблицы). Позволит создавать таблицы, которые будут храниться в отличном от стандартного myISAM (например, в InnoDB)
+ Шаблонный механизм - добавлена поддержка команды вставки из файла (include), для работы (код: [:include имя_файла_с_расширением] )необходимо активировать в коде возможность вставки (include)
% Исправление ошибки в функции generatePluginLink() - в некоторых случаях вместо абсолютной генерировалась относительная ссылка
% Изменены точки вызова фильтров при добавлении/редактировании новостей
% Добавлена генерация сообщения об ошибке при сохранении конфига системы
% Добавлена возможность использовать для штамп-картинки файлы как с расширением .gif, так и с расширением .png
% Теперь посетитель будет перебрасываться на главную страницу при заходе на сайт со страницы активации учетной записи
+ Добавлена функция imagecopymerge_alpha, теперь поддерживается наложение прозрачных штамп-картинок в формате png с активным alpha-каналом
% Изменены иконки в управлении изображениями
% Изменён механизм хранения списка приложенных к новостям файлов.
+ Добавлена возможность для внешних плагинов самостоятельно регистрировать RPC обработчики
% Изменена логика отображения ошибки "каталог не найден" для файлов/изображений
+ Выложена библиотека обратной совместимости для НЕ-ЧПУ сайтов
% Фикс кода отображения списока плагинов. Исправлена проблема совместимости с некоторыми плагинами в Google Chrome.
% Патч библиотеки libsuggest - теперь плагины могут использовать библиотеку в своих целях, для этого в параметрах добавлена переменная reqMethodName, добавлена возможность собственными силами генерировать строчку параметров, передаваемую в JSON/PRC движок. Для этого создан параметр outputGenerator. Также добавлен новый конфигурационный параметр postURL
% Функция json_encode() перенесена из файла admin.js в functions.js, это позволит использовать библиотеку libsuggest не только в админке, но и на сайте.
% изменение логики определения overrideTemplate в функции news_showlist()
% Исправлена ошибка - при самостоятельном создании уменьшенной копии изображения (в разделе "изображения"), в копии неверно указывался её размер
% Улучшения информативности выводимых ошибок при загрузке файлов (теперь показывается имя файла)
% Добавлен вывод сообщения об ошибке при отсуствии необходимого файла-шаблона
% Вычистка кода движка - избавляемся от Warning'ов при включенном error_reporting (E_ALL)
% Вычистка кода плагинов - избавляемся от Warning'ов при включенном error_reporting (E_ALL)
+ Добавлена возможность загрузки плагинов (через version файл) "по цепочке", т.е. плагин XX может анонсировать, что его необходимо загружать при активации "страницы плагина" у плагина YY
% Исправлена ошибка: теперь при генерации ссылок двиг не будет генерировать ссылки, помеченные как "отключенная ссылка".
+ Добавлены флаги hspace и vspace для bb-кода img
+ Выложена обновлённая админка
% Обновление модуля управления пользователями, добавлена возможность интеграции с плагинами (в частности, с uprofile)
% Убраны устаревшие файлы engine/includes/plugin.php и engine/includes/print.php
+ Добавлен новый режим регистрации пользователей - "ручной с подтверждением", теперь есть 2 режима регистрации с ручной установкой пароля - "ручной" (не требуется подтверждать email адрес) и "ручной с подтверждением" (пароль становится активен только после подтверждения email адреса), новый режим выбран режимом по умолчанию
% На странице авторизации в шаблоне login.tpl добавлен блок [need.activate]..[/need.activate], отображаемый при попытке авторизации неактивированного пользователя
+ Новая функция в админке: "настройки" => "настройки системы" => "основные настройки" => "Совместимость с не-ЧПУ режимом старых версий". При включении этого режима пользователи, заходящие на старую ссылку, будут переадресовываться на новую (верную и поддерживаемую движком) ссылку.
% Исправлен парсинг BB кода [quote]

=========================================================================================
[0.9.1]
+ Полностью переработан механизм работы со ссылками (ЧПУ)
+ Функционал работы с комментариями и профилями пользователей вынесен в отдельные плагины
  (comments и uprofile)
+ Переработано ядро CMS
% Структуированы шаблоны

=========================================================================================
[0.9.0 Release]
- Исправлена ошибка в инсталляторе - на хостингах с PHP версии 4.x некорректно
  формировались пути (на 5.x этой проблемы не было)
- Добавлена поддержка плагина tags в шаблон по умолчанию "default"
- Расширены возможности ручного управления стилями в плагине tags
- Учтена ситуация, что на некоторых хостингах может быть запрещено определение
  свободного места

[0.9.0 Release Candidate 05]
- Восстановлен редактор шаблонов
- Исправлена ошибка: при фильтрации пользователей по логину неверно отображался
  счетчик страниц
- Устранена потенциальная проблема при авторизации: пользователь со включенным в
  firewall'е режимом сокрытия HTTP_REFERER мог переадресовываться в никуда
- Изменена логика формирования информационного email сообщения о поступлении нового
  комментария - добавлена доп. информация (текст самого сообщения так и остался
  в lang файле).
- Исправлены шаблоны default / globlog - при установке не в корень сайта в них не
  работала ссылка на выход с сайта


[0.9.0 Release Candidate 04]
- Теперь при удалении пользователя также удаляется его фотография и аватарка
- Переработан интерфейс работы с картинками в админ-панели
- Файл captcha.php перенесён из engine/trash/ в engine/
- Добавлены новые поля в SQL таблицы images и files


[0.9.0 Release Candidate 03]
- Добавлена поддержка варианта написания BB кода spoiler: [spoiler="ТЕКСТ"]..[/spoiler]
- Добавлена поддержка блоков [fullnews]..[/fullnews], [nofullnews]..[/nofullnews],
  [comments]..[/comments], [nocomments]..[/nocomments] в шаблонах news.short.tpl и
  news.full.tpl
- Исправлены опечатки в install скрипте из-за которых установка не в корень сайта
  была невозможна
- Исправлены опечатки в языковых файлах
- Шаблон globlog теперь полностью работоспособен

[0.9.0 Release Candidate 02]
- Убраны некоторые warning'и, всплывавшие при редактировании категорий
- Теперь при последовательном добавлении категорий и подкатегорий нет необходимости
  перезагружать страницу - сразу после добавления категорию можно использовать в качестве
  "родительской" для новосоздаваемой.
- Добавлена возможность искать пользователей в админ панели
- Исправлены опечатки в путях к плагинам (старый путь /extras/ заменен на /plugins/)
- Исправлена ошибка инсталл-скрипта из-за которой не выставлялась кодировка для таблиц в БД
- Временно отключен механизм редактирования шаблонов

[0.9.0 Release Candidate 01]
- Переделан "с нуля" скрипт-инсталлятор, теперь он интуитивно понятен
- Добавлена возможность задавать собственные шаблоны для новостей категорий из интерфейса
  управления категориями
- Добавлена возможность задавать кол-во новостей, отображаемых в конкретной категории
- Добавлена интеграция с сервисом глобальных аватаров gravatar.com
- Исправлена ошибка из-за которой не на всех версиях mySQL могла корректно
  создаться БД при инсталляции
- Добавлен внутренний массив-описание, отвечающий за заголовок страницы.
  Теперь на всех страницах появились корректные заголовки и плагины
  получили возможность самостоятельно управлять заголовками своих (и не
  только своих) страниц
- Оптимизирован механизм активации учётной записи
- В редактировании новостей добавлен новый фильтр: по статусу новости (все/
  только опубликованные/только неопубликованные)
- В редактировании новостей в список новостей добавлена новая колонка -
  кол-во комментариев к новости
- Добавлен новый BB код: [spoiler] ... [/spoiler]
- В администрировании пользователей добавлена возможность устанавливать
  кол-во пользователей, отображаемых на странице
- Теперь кол-во неопубликованных новостей выводится рядом с ссылкой
  "редактировать" и не мозолит глаза
- В шаблоне usermenu.tpl добавлен блок [isnt-logged] .. [/isnt-logged],
  который отображается если пользователь не залогинен
- При отображении пользовательского меню добавлен новый экшн: usermenu, он
  позволит плагинам выводить в этот блок свою информацию
- Исправлена ошибка из-за которой нельзя было отредактировать комментарий,
  состоящий из одной цифры ноль ( '0' )
- Изменён формат наименования файлов-резервных копий БД, теперь формат стал:
  ГГГГ_ММ_ДД_чч_мм
- Переделан механизм создания резервных копий БД, теперь он создаёт описания
  структуры таблиц а также может корректно работать на больших таблицах
- Исправлена ошибка из-за которой при редактировании новостей символы
  HTML-символы &lt;,... заменялись на их представление ( '<' )
- Добавлен новый фильтр новостей - обработчик события massNewsModify и
  massNewsModifyNotify. Благодаря этому фильтру плагин tags (и другие,
  которые создают индексную информацию по новостям) сможет полностью
  корректно работать.
- Добавлены новые фильтры-события для новостей onBeforeShow() и onAfterShow(),
  они позволяют создавать плагины, которые будут выводить информацию
  перед/после блока новостей.
- Исправлена ошибка из-за которой не вызывался обработчик события
  deleteNewsNotify при массовом удалении новостей
- Добавлен новый класс-фильтр для админ-панели: FilterAdminCategories,
  теперь плагины могут вмешиваться в отображение формы редактирования
  категорий
- Теперь при отключении BB кодов их панель не будет отображаться при
  добавлении новостей
- Добавлена возможность задавать собственный шаблон для формы добавления
  комментариев
- Убран лишний SQL запрос - теперь для определения заголовка новости нам
  не требуется обращаться в БД
- Доработан код функции, отвечающей за создание плагинами собственных SQL
  таблиц, теперь проблема с кодировкой в плагине голосования (и других)
  полностью решена
- Плагинам добавлена возможность делать пред-загрузку других плагинов,
  которые им необходимы в работе - расширены возможности функции load_extras()
- Плагины теперь могут хранить собственные библиотеки, доступные другим
  плагинам, появилась новая функция loadPluginLibrary()
- Плагины теперь могут для разных экшнов загружать разные файлы с кодом.
  Это позволит в некоторых случаях плагинам заметно уменьшить объём кода,
  загружаемого плагином. К примеру, все подпрограммы, необходимые только
  при редактировании новостей, могут быть вынесены в отдельный файл и
  загружаться только при необходимости
- Из кода движка убраны ставшие ненужными функции, отвечающие за рейтинг
  пользователей/новостей
- В поиске убрана подсветка найденных данных. Это временное решение проблемы
  из-за которой подсветка могла повреждать HTML код
- Расширены возможности профайлинга - теперь движок может отслеживать
  время исполнения SQL запросов (функция профайлинга может потребоваться
  разработчикам плагинов)
- Создана новая функция урезания HTML кода, которая позволит корректно
  закрывать открытые теги и учитывать только текст новости. Функция внесена
  в код движка и может использоваться любыми плагинами
- Добавлена поддержка переменных вида {plugin_PLUGINID_VAR}, переменные
  такого вида отображаются только в случае, если плагин PULUGINID активен
- Оптимизирован загрузчик админ-панели, добавлены новые экшны
- Оптимизирован загрузчик движка ( index.php )
- Добавлена возможность при редактировании новостей задавать кол-во просмотров
  новости
- Оптимизирован HTML код вставки BB кодов, оптимизирован HTML код и оформление
  формы редактирования новостей
- Исправлена ошибка: при массовом удалении комментариев в новости, комментарии
  удалялись даже если администратор на вопрос "Хотите удалить комментарии?" отвечал "нет"

- Внесено множество обновлений в плагины, фактически 80% плагинов
  имеют новую версию.

=========================================================================================
* Список изменений в сборках "CMS 2z project", которые собирал Vitaly Ponomarev:
=========================================================================================

2z project 0.9.7 FixPack #04
----------------------------
- Плагины получили возможность блокировать добавление/редактирование новостей.
- В случае неуспешного добавления новости (неверно заполнены параметры или
  плагин заблокировал добавление новости) теперь сохраняются заполненные
  вами значения в формах. Сохранение реализовано при помощи JavaScript, поэтому
  его поддержка необходима.
- Немного изменена страница статистики системы
- Добавлен параметр "Кол-во страниц с новостями для отображения" отвечающий
  за кол-во страниц, на которые будут "быстрые ссылки" с номерами страниц
- Изменено отображение списка плагинов, добавлены ссылки на readme/history файлы
- Исправлено отображение аватары пользователя в шаблоне usermenu.tpl
- Исправлена ошибка, не позволявшая редактировать шаблоны плагинов, которые располагались
  _внутри_ основного шаблона сайта
- Исправлена ошибка из-за которой неправильно работало постраничное отображение списка
  зарегистрированных пользователей при включении сортировки по логину
- При добавлении/редактировании новости теперь можно указывать не только название
  категорий, но и их ID
- Плагины получили возможность перехватывать событие "массовое изменение новостей",
  это позволит плагину tags корректно работать с новостями которые ставят/снимают
  с публикации
- При отображении новостей заложена возможность задания собственных шаблонов
  отображения для категорий.
  Пока эта возможность конфигурируется _только_ в коде, т.к. при выпуске FixPack'ов
  проводить изменения в структуре БД крайне нежелательно, а подобное расширение
  требует как раз изменение структуры БД.
  Если хотите использовать данную функцию, то обращайтесь на форум в раздел FAQ
- Изменена логика генерации версии для печати. Теперь на ней отоображаются все страницы
  новости, а не первая (как было ранее)
- При отображении короткой новости в шаблон добавлена переменная {alternating}, которая
  принимает значения "odd"/"even" в зависимости от того является ли данная новость
  чётной или нечётной (при отображении по порядку)
- Расширены возможности парсера BB кодов [url] и [img] - теперь они корректно работают
  с файлами, чьи имена содержат символы "[]"
- Обновлён upgrade скрипт, добавлена последняя функция - перенос уменьшенных копий
  фотографий пользователей
- Внесено несколько изменений в ядро в плане работы с модулями авторизации. Изменения
  необходимы для корректной работы плагина auth_vb - авторизация через БД vBulletin

- Выпущены обновлённые версии плагинов:
  archive
  auth_basic
  auth_punbb
  calendar
  favorites
  filter
  finance
  fin_wm
  nsched
  popular
  rating
  rss_export
  switcher
  tags
  xfields


2z project 0.9.7 FixPack #03
----------------------------
- В основной .htaccess добавлена строка "php_flag allow_call_time_pass_reference on",
  которая решает проблему с возникающим на некоторых хостигах сообщением о
  необходимости включения данного флага.
- В админ панели в шаблоне редактирования новости изменено:
  * исправлена ошибка с неправильно работающим предпросмотром
  * исправлена ошибка с неотображением комментариев
  - теперь комментарий отображается полностью, при отображении парсятся BB коды
- Добавлены новые точки загрузки плагинов (прописываются в параметре "Acts" файла version):
  + comments        - работа с комментариями
  + comments:add    - добавление комментариев
  + comments:show   - показ комментариев
  + news            - работа с новостями
  + news:show       - показ новостей
  + news:show:one   - показ одной (обычно - полной) новости
  + news:show:list  - показ списка новостей
- Расширен функционал модуля отображения новостей, теперь внешние плагины
  могут использовать его для отображения новости в заданном шаблоне или для
  корректного процессинга новости, которая будет выводиться пользователю (к примеру,
  такой режим используется в новой версии плагина rss_export)
- Расширен набор возможностей для плагинов-фильтров: теперь они могут определять кто
  их вызывает - ядро системы или другой плагин
- Шаблон для смайлов, отображаемых в форме добавления комментария, теперь может браться
  не только из шаблона админ-интерфейса, но и из общего шаблона сайта
  (если в шаблоне сайта найден файл smilies.tpl - он берётся из шаблона сайта, иначе -
  из шаблона админ-интерфейса)
- При генерации списка активных плагинов (файл 2z/conf/plugins.php) в заголовок теперь
  добавляется "<?php " вместо "<? " как было раньше. Изменение позволяет решить проблему
  на некоторых хостингах
- Исправлена ошибка из-за которой не отображались комментарии при отключении аватаров
- Исправлена ошибка в поиске из-за которых по русским символам поиск работал только на
  тех хостингах, где кодировка по умолчанию для PHP была выставлена в win1251
- Изменён аглоритм парсинга BB тегов [url] и [img]. Решены найденные проблемы, тегу
  [url] добавлен возможный параметр title. Пример:
  [url=http://ya.ru/ title="Мой яндекс"]Поисковик[/url]
  Заложен базис для разбора любых новых сложных (с несколькими параметрами) BB кодов.

Изменения в плагинах:
- auth_punBB [0.04]
  * Исправлена ошибка из-за которой в некоторых ситуациях было возможно создание
    дублирующихся записей в БД punBB
  + Добавлена поддержка языковых файлов, весь текст перенесён теперь в них
  + Написана расширенная документация по установке плагина
- gsmg [0.04] - добавлен плагин Google SiteMap Generator
- varmgr [0.03]
  + Плагин оптимизирован для работы в версии 0.9.7
  * Обновлена документация - она стала более детальной
- finance [0.06]
  + Выложено описание API, доступное для внешних плагинов
- rss_export [0.04]
  * Изменена логика генерации rss ленты, данные формируются используя стандартный
    модуль, предназначенный для генерации новостей.
    В минусе - некоторое уменьшение скорости работы.
    В плюсе - логика генерации RSS полностью соответствует логике генерации новостей.



2z project 0.9.7 FixPack #02
----------------------------
- В управлении изображениями добавлены следующие возможности:
  - Выбор режима создания уменьшенной копии (по запросу/запретить/всегда)
  - Выбор режима добавления тени (по запросу/запретить/всегда)
  - Выбор расположения тени (оригинал/копия/оригинал+копия)
  - Выбор режима добавления штампа (по запросу/запретить/всегда)
  - Выбор расположения штампа (оригинал/копия/оригинал+копия)
- Сильно передал режим предпросмотра, теперь он работает наиболее
  близко с режимом добавления новости, поэтому создаваемый им
  вариант наиболее полно соответствует будущему внешнему виду новости.
  Учитывается установка различных флагов, отрисовываюся формы различных
  плагинов (xfields, finance,...)
- Разрешено использования символа "минус" в альт. имени новостей/статических
  страниц. Некоторые поисковики (Google) минус расценивают как пробел
  и более адекватно воспринимают альт. имя.
- Убран ошибочный код который вызывал повторный парсинг данных на предмет
  отображения BB-кодов и смайлов
- Изменён базовый файл, ответственный за вывод новостей. Теперь внешние
  приложения смогут вызывать код отображения новостей из категории либо
  конктерной новости, при этом можно установить свой собственный шаблон
  для отображения.
- Расширены возможности функции locatePluginTemplates() - теперь она может
  искать не только файлы-шаблоны, но и обыкновенные файлы.
- Внесены изменения кода, позволяющие в комментариях использовать несколько
  кириллических символов, используемых в украинском языке.
  Сделано в виде work-around'а через механизм BB-кодов, правильное решение
  возможно только при переходе на UTF-8 версию. Всем украинским администраторам
  рекомендовано не отключать BB коды для корректного отображения символов,
  исползуемых в украинском языке и не содержащихся в кодовой таблице Win-1251.
- Добавлено исполнение новостных фильтров в поиске. Это позволит корректно
  отрабатывать плагинам xfields, finance во время поиска.
- В файл-шаблон создания новости (шаблона сайта по умолчанию) добавлена служебная
  HTML форма, используемая для корректной вставки файлов/новостей.
- Добавлена поддержка скинов в плагин rating, заменен существующий шаблон рейтинга
  на страрый но более приятный
- Обновлена информация о плагинах favorites, nsched
- Исправлен баг в плагине calendar
- Добавлено описание для плагина switcher
- Добавлен плагин xfields


2z project 0.9.7, 2008-05-05
----------------------------

Исправление ошибок:
- Исправлена ошибка с кодом безопасности при регистрации
- Исправлена ошибка когда после обновления вместо русских букв были вопросы
- Исправлена возможная ошибка при установке плагинов
- При массовом удалении новостей теперь обновляется счетчик комментариев пользователей
- При неправильном указании списка категорий была возможна ситуация, что зайти в новость
  с сайта не удавалось (решением было отредактировать новость и сохранить)
- Исправлена ошибка с неправильной обработкой счетчиков при массовом удалении комментариев
- Исправлена ошибка: при редактировании новости пропадали переводы строки с начала новости
- Исправлена проблема при которой в комментариях отрабатывали внутренние переменные
  (к примеру, {user_menu})
- Исправлена фича из-за которой в момент редактирования новости, ей можно было назначить
  альт. имя уже занятое другой новостью.
- Исправлены проблемы с личными сообщениями
- Исправлена проблема с отображением captcha кодов на некоторых хостингах. Теперь к TTF шрифту,
  используемому для captcha, прописывается абсолютный путь.

Другие изменения:
- При добавлении/изменении/удалении новостей вызываются обработчики новой плагинной системы
- У новости добавлен флаг "Отключить обработку bb-кодов". В этом случае в новость может
  писаться чистый HTML код, движок не следит ни за чем (переносы строк тегами <br> вам
  придётся делать самим). Помогает в случае размещения JScript кода или просто HTML'я.
- Из ядра удалена сестема кеширования, она будет полностью переписана
- Удалена ненужная js-функция
- Если при добавлении новости вы не указываете альт. имя, то движок автоматически подбирает
  для вас незанятое альт. имя, т.е. проблем при создании тем с одинаковым названием больше
  не будет.

- Удалена потенциальная уязвимость при загрузке GET/POST параметров в глобальную область видимости
- Переработан код, использующий (не к месту) глобальные переменные, всё переведено на использование
  предопределённых массивов $_GET / $_POST

- Переработаны внутренности управления блокировки по IP - во время ввода информации для блокировки
  проводим проверку правильности IP адреса
- Убраны потенциальные XSS уязвимости в блоке "персональные сообщения"

- Добавлена возможность полного управления сортировкой категорий ("позицию" теперь можно выставлять
  не только для категорий первого уровня, но и для всех остальных)
- Удаление категории теперь возможно только в случае, если категория пуста. Ограничение добавлено
  для защиты от случайного нажатия на кнопку "удалить категорию"
- Восстановлена возможность задавать для каждой категории свою иконку

- При редактировании новости в списке "категория" теперь не отображаются те категории к которым
  уже относится новость (и чьи имена прописаны в текстовом поле)
- Оптимизирован механизм отображения списка новостей для редактирования, изменения актуальны
  для крупных порталов с кол-вом пользователей > 1 тыс, новостей > 10 тыс:
  * изменён механизм подсчёта кол-ва новостей
  * в списке авторов (для фильтрации) отображаются только те авторы, у которых есть хотябы одна
    новость, кроме этого, рядом с имемен автора отображается также кол-во его новостей

- Ведение рейтингов вынесено в отдельный плагин и убрано из основного кода
- JScript код, необходимый для добавления комментариев к новостям, вынесен в шаблон comments.form.tpl

- Объединены скрипты добавления новостей через админ панель и на сайте
- Запрещено размещение новостей незарегистрированными пользователям, в шаблоне
  addnews.tpl убрана поддержка тегов [if-guest] ... [/if-guest]

- HTML теги заменены на BB коды в форме добавления/изменения новостей
- Обновлено автоформирование альт. имени для статических страниц

- Убраны XSS уязвимости в профиле пользователя
- Добавлена возможность гибкой регуляции прав постинга HTML в новостях

- Добавлена возможность установки режима сортировки новостей на главной странице

2z project 0.9.6.1, 2007-09-21
----------------------------

Исправление ошибок:
- Исправлена ошибка с постраничной навигацией внутри категории
- Поправлено неправильное отображение кнопки "Сохранить" в настройках системы
- Поправлен механизм восстановления пароля
- Исправлена ошибка при вставке в новость изображений и файлов
- Исправлены ошибки в файле update.php, вызывавшие некорректное обновление
- Исправлена ошибка, когда некорректно отображались комментарии при использовании шаблона, отличного от default
- Исправлена ошибка, когда не открывалась печать новости при включенном ЧПУ
- Исправлена ошибка при создании новой темы в админ-панеле на русском языке
- Исправлена проверка на существование категории, теперь сравнивание проходит по альт. именам категорий
- Исправлено еще несколько мелких ошибок

Другие изменения:
- Файл 2z/includes/inc/links.inc.php перемещен в каталог 2z/conf
- Из скрипта по умолчанию удалена функция массовой рассылки сообщения, она переделана под плагин и доступна на сайте
- Добавлена возможность изменять урлы для плагинов
- Права (chmod) на уменьшенные изображения теперь выставляются правильно
- Добавлено несколько новых экшенов для работоспособности плагинов
- Добавлено управление форматом ссылок при обращении к плагинам
- Из дистрибутива удалена папка readme/


2z project 0.9.6, 2007-08-22
----------------------------
- Начало ведения списка изменений